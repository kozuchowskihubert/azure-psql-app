<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Explorer - HAOS.fm</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Mono:wght@400;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --bg-primary: #0A0A0A;
      --bg-secondary: #111111;
      --bg-tertiary: #1a1a1a;
      --bg-card: #141414;
      --text-primary: #F4E8D8;
      --text-secondary: #888888;
      --text-muted: #555555;
      --accent-orange: #FF6B35;
      --accent-gold: #D4AF37;
      --accent-cyan: #00D9FF;
      --accent-green: #39FF14;
      --accent-purple: #8B5CF6;
      --accent-pink: #EC4899;
      --accent-red: #EF4444;
      --border-color: #222222;
      --border-light: #2a2a2a;
      --shadow: 0 4px 24px rgba(0, 0, 0, 0.4);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--bg-primary);
      min-height: 100vh;
      color: var(--text-primary);
    }

    /* Top Navigation */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 64px;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 2rem;
      z-index: 1000;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: var(--text-primary);
    }

    .nav-brand-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, var(--accent-orange), var(--accent-gold));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      color: var(--bg-primary);
    }

    .nav-brand-text {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.5rem;
      letter-spacing: 2px;
      background: linear-gradient(135deg, var(--accent-orange), var(--accent-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .nav-links {
      display: flex;
      gap: 0.5rem;
    }

    .nav-link {
      padding: 0.5rem 1rem;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
      border-radius: var(--radius-sm);
      transition: all 0.2s;
    }

    .nav-link:hover {
      color: var(--text-primary);
      background: var(--bg-tertiary);
    }

    .nav-link.active {
      color: var(--accent-orange);
      background: rgba(255, 107, 53, 0.1);
    }

    .nav-actions {
      display: flex;
      gap: 0.75rem;
      align-items: center;
    }

    .btn-primary {
      padding: 0.6rem 1.25rem;
      background: linear-gradient(135deg, var(--accent-orange), #ff8c5a);
      border: none;
      border-radius: var(--radius-sm);
      color: var(--bg-primary);
      font-weight: 600;
      font-size: 0.85rem;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);
    }

    /* Main Content */
    .main-content {
      padding-top: 64px;
      min-height: 100vh;
    }

    /* Hero Section */
    .hero {
      padding: 4rem 2rem;
      text-align: center;
      background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
      border-bottom: 1px solid var(--border-color);
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: rgba(255, 107, 53, 0.1);
      border: 1px solid rgba(255, 107, 53, 0.3);
      border-radius: 50px;
      font-size: 0.8rem;
      color: var(--accent-orange);
      margin-bottom: 1.5rem;
    }

    .hero-title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 3.5rem;
      letter-spacing: 3px;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, var(--text-primary), var(--accent-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-subtitle {
      font-size: 1.1rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto 2rem;
      line-height: 1.6;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-top: 2rem;
    }

    .hero-stat {
      text-align: center;
    }

    .hero-stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent-cyan);
    }

    .hero-stat-label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-top: 0.25rem;
    }

    /* Container */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }

    /* Section Header */
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: 1.25rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .section-title i {
      color: var(--accent-orange);
    }

    /* Filter Tabs */
    .filter-tabs {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .filter-tab {
      padding: 0.5rem 1rem;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      color: var(--text-secondary);
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .filter-tab:hover {
      border-color: var(--accent-orange);
      color: var(--text-primary);
    }

    .filter-tab.active {
      background: var(--accent-orange);
      border-color: var(--accent-orange);
      color: var(--bg-primary);
    }

    /* Endpoints Grid */
    .endpoints-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
      gap: 1rem;
    }

    .endpoint-card {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      overflow: hidden;
      transition: all 0.3s;
    }

    .endpoint-card:hover {
      border-color: var(--border-light);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .endpoint-header {
      padding: 1rem 1.25rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      border-bottom: 1px solid var(--border-color);
    }

    .method-badge {
      padding: 0.35rem 0.75rem;
      border-radius: 6px;
      font-family: 'Space Mono', monospace;
      font-size: 0.75rem;
      font-weight: 700;
      min-width: 60px;
      text-align: center;
    }

    .method-badge.get { background: rgba(57, 255, 20, 0.15); color: var(--accent-green); }
    .method-badge.post { background: rgba(0, 217, 255, 0.15); color: var(--accent-cyan); }
    .method-badge.put { background: rgba(212, 175, 55, 0.15); color: var(--accent-gold); }
    .method-badge.delete { background: rgba(239, 68, 68, 0.15); color: var(--accent-red); }
    .method-badge.patch { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); }

    .endpoint-path {
      font-family: 'Space Mono', monospace;
      font-size: 0.9rem;
      color: var(--text-primary);
      flex: 1;
    }

    .endpoint-status {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--accent-green);
    }

    .status-dot.offline { background: var(--accent-red); }
    .status-dot.degraded { background: var(--accent-gold); }

    .endpoint-body {
      padding: 1.25rem;
    }

    .endpoint-description {
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.5;
      margin-bottom: 1rem;
    }

    .endpoint-tags {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .endpoint-tag {
      padding: 0.25rem 0.6rem;
      background: var(--bg-tertiary);
      border-radius: 4px;
      font-size: 0.75rem;
      color: var(--text-secondary);
    }

    .endpoint-tag.auth {
      background: rgba(139, 92, 246, 0.15);
      color: var(--accent-purple);
    }

    .endpoint-tag.premium {
      background: rgba(212, 175, 55, 0.15);
      color: var(--accent-gold);
    }

    .endpoint-actions {
      display: flex;
      gap: 0.5rem;
    }

    .endpoint-btn {
      flex: 1;
      padding: 0.6rem;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      color: var(--text-secondary);
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
    }

    .endpoint-btn:hover {
      border-color: var(--accent-orange);
      color: var(--text-primary);
    }

    .endpoint-btn.primary {
      background: var(--accent-orange);
      border-color: var(--accent-orange);
      color: var(--bg-primary);
    }

    .endpoint-btn.primary:hover {
      background: #ff8c5a;
    }

    /* API Categories */
    .api-categories {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .category-card {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .category-card:hover {
      border-color: var(--accent-orange);
      transform: translateY(-3px);
    }

    .category-card.active {
      border-color: var(--accent-orange);
      background: rgba(255, 107, 53, 0.05);
    }

    .category-icon {
      width: 50px;
      height: 50px;
      margin: 0 auto 1rem;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
    }

    .category-icon.auth { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); }
    .category-icon.music { background: rgba(0, 217, 255, 0.15); color: var(--accent-cyan); }
    .category-icon.users { background: rgba(57, 255, 20, 0.15); color: var(--accent-green); }
    .category-icon.admin { background: rgba(239, 68, 68, 0.15); color: var(--accent-red); }
    .category-icon.billing { background: rgba(212, 175, 55, 0.15); color: var(--accent-gold); }
    .category-icon.tracks { background: rgba(236, 72, 153, 0.15); color: var(--accent-pink); }

    .category-name {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .category-count {
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    /* Try It Panel */
    .try-panel {
      position: fixed;
      right: 0;
      top: 64px;
      bottom: 0;
      width: 450px;
      background: var(--bg-secondary);
      border-left: 1px solid var(--border-color);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 100;
      display: flex;
      flex-direction: column;
    }

    .try-panel.open {
      transform: translateX(0);
    }

    .try-panel-header {
      padding: 1.25rem;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .try-panel-title {
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .try-panel-close {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-sm);
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .try-panel-close:hover {
      color: var(--accent-red);
      border-color: var(--accent-red);
    }

    .try-panel-body {
      flex: 1;
      padding: 1.25rem;
      overflow-y: auto;
    }

    .try-input-group {
      margin-bottom: 1rem;
    }

    .try-input-group label {
      display: block;
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--text-secondary);
    }

    .try-input-group input,
    .try-input-group textarea {
      width: 100%;
      padding: 0.75rem;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-family: 'Space Mono', monospace;
      font-size: 0.85rem;
    }

    .try-input-group textarea {
      min-height: 120px;
      resize: vertical;
    }

    .try-response {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: 1rem;
      font-family: 'Space Mono', monospace;
      font-size: 0.8rem;
      overflow-x: auto;
      white-space: pre-wrap;
      max-height: 300px;
      overflow-y: auto;
    }

    .try-panel-footer {
      padding: 1.25rem;
      border-top: 1px solid var(--border-color);
    }

    .btn-execute {
      width: 100%;
      padding: 0.85rem;
      background: linear-gradient(135deg, var(--accent-cyan), #00b8d9);
      border: none;
      border-radius: var(--radius-sm);
      color: var(--bg-primary);
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      transition: all 0.2s;
    }

    .btn-execute:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 217, 255, 0.4);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-title { font-size: 2.5rem; }
      .hero-stats { gap: 1.5rem; }
      .endpoints-grid { grid-template-columns: 1fr; }
      .nav-links { display: none; }
      .try-panel { width: 100%; }
    }
  </style>
</head>
<body>
  <!-- Top Navigation -->
  <nav class="top-nav">
    <a href="/" class="nav-brand">
      <div class="nav-brand-icon"><i class="fas fa-broadcast-tower"></i></div>
      <span class="nav-brand-text">HAOS.FM</span>
    </a>
    
    <div class="nav-links">
      <a href="/dashboard.html" class="nav-link">Dashboard</a>
      <a href="/api-explorer.html" class="nav-link active">API Explorer</a>
      <a href="/community.html" class="nav-link">Community</a>
      <a href="/sounds.html" class="nav-link">Sounds</a>
    </div>
    
    <div class="nav-actions">
      <a href="/api-keys.html" class="btn-primary">
        <i class="fas fa-key"></i> Get API Key
      </a>
    </div>
  </nav>

  <main class="main-content">
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-badge">
        <i class="fas fa-bolt"></i>
        REST API v2.0
      </div>
      <h1 class="hero-title">HAOS.fm API Explorer</h1>
      <p class="hero-subtitle">
        Explore and test all available API endpoints. Build integrations, automate workflows, 
        and create powerful music production tools.
      </p>
      <div class="hero-stats">
        <div class="hero-stat">
          <div class="hero-stat-value" id="totalEndpoints">42</div>
          <div class="hero-stat-label">Endpoints</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value" id="onlineCount">100%</div>
          <div class="hero-stat-label">Uptime</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value">&lt;50ms</div>
          <div class="hero-stat-label">Avg Response</div>
        </div>
      </div>
    </section>

    <div class="container">
      <!-- API Categories -->
      <div class="api-categories">
        <div class="category-card active" data-category="all">
          <div class="category-icon auth"><i class="fas fa-globe"></i></div>
          <div class="category-name">All Endpoints</div>
          <div class="category-count" id="count-all">42 endpoints</div>
        </div>
        <div class="category-card" data-category="auth">
          <div class="category-icon auth"><i class="fas fa-shield-alt"></i></div>
          <div class="category-name">Authentication</div>
          <div class="category-count" id="count-auth">8 endpoints</div>
        </div>
        <div class="category-card" data-category="music">
          <div class="category-icon music"><i class="fas fa-music"></i></div>
          <div class="category-name">Music & Audio</div>
          <div class="category-count" id="count-music">12 endpoints</div>
        </div>
        <div class="category-card" data-category="users">
          <div class="category-icon users"><i class="fas fa-users"></i></div>
          <div class="category-name">Users & Profiles</div>
          <div class="category-count" id="count-users">10 endpoints</div>
        </div>
        <div class="category-card" data-category="billing">
          <div class="category-icon billing"><i class="fas fa-credit-card"></i></div>
          <div class="category-name">Billing & Subs</div>
          <div class="category-count" id="count-billing">6 endpoints</div>
        </div>
        <div class="category-card" data-category="admin">
          <div class="category-icon admin"><i class="fas fa-cog"></i></div>
          <div class="category-name">Admin</div>
          <div class="category-count" id="count-admin">6 endpoints</div>
        </div>
      </div>

      <!-- Section Header -->
      <div class="section-header">
        <h2 class="section-title">
          <i class="fas fa-code"></i>
          <span id="currentCategory">All Endpoints</span>
        </h2>
        <div class="filter-tabs">
          <button class="filter-tab active" data-method="all">All</button>
          <button class="filter-tab" data-method="get">GET</button>
          <button class="filter-tab" data-method="post">POST</button>
          <button class="filter-tab" data-method="put">PUT</button>
          <button class="filter-tab" data-method="delete">DELETE</button>
        </div>
      </div>

      <!-- Endpoints Grid -->
      <div class="endpoints-grid" id="endpointsGrid">
        <!-- Endpoints loaded dynamically -->
      </div>
    </div>
  </main>

  <!-- Try It Panel -->
  <div class="try-panel" id="tryPanel">
    <div class="try-panel-header">
      <div class="try-panel-title">
        <i class="fas fa-play-circle"></i>
        <span id="tryPanelTitle">Try Endpoint</span>
      </div>
      <button class="try-panel-close" onclick="closeTryPanel()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="try-panel-body">
      <div class="try-input-group">
        <label>Endpoint</label>
        <input type="text" id="tryEndpoint" readonly>
      </div>
      <div class="try-input-group">
        <label>Headers</label>
        <textarea id="tryHeaders">{
  "Content-Type": "application/json",
  "Authorization": "Bearer YOUR_TOKEN"
}</textarea>
      </div>
      <div class="try-input-group" id="tryBodyGroup">
        <label>Request Body (JSON)</label>
        <textarea id="tryBody">{}</textarea>
      </div>
      <div class="try-input-group">
        <label>Response</label>
        <div class="try-response" id="tryResponse">
          <span style="color: var(--text-muted);">// Click "Execute" to see response</span>
        </div>
      </div>
    </div>
    <div class="try-panel-footer">
      <button class="btn-execute" onclick="executeRequest()">
        <i class="fas fa-bolt"></i>
        Execute Request
      </button>
    </div>
  </div>

  <script>
    // API Endpoints Data
    const endpoints = [
      // Auth
      { method: 'POST', path: '/api/auth/register', category: 'auth', description: 'Register a new user account', tags: ['public'], auth: false },
      { method: 'POST', path: '/api/auth/login', category: 'auth', description: 'Login with email and password', tags: ['public'], auth: false },
      { method: 'POST', path: '/api/auth/logout', category: 'auth', description: 'Logout and invalidate tokens', tags: ['auth'], auth: true },
      { method: 'POST', path: '/api/auth/refresh', category: 'auth', description: 'Refresh access token', tags: ['public'], auth: false },
      { method: 'GET', path: '/api/auth/me', category: 'auth', description: 'Get current user information', tags: ['auth'], auth: true },
      { method: 'POST', path: '/api/auth/forgot-password', category: 'auth', description: 'Request password reset email', tags: ['public'], auth: false },
      { method: 'POST', path: '/api/auth/reset-password', category: 'auth', description: 'Reset password with token', tags: ['public'], auth: false },
      { method: 'POST', path: '/api/auth/verify-email', category: 'auth', description: 'Verify email address', tags: ['public'], auth: false },
      
      // Users
      { method: 'GET', path: '/api/user/profile', category: 'users', description: 'Get current user profile', tags: ['auth'], auth: true },
      { method: 'PUT', path: '/api/user/profile', category: 'users', description: 'Update user profile', tags: ['auth'], auth: true },
      { method: 'GET', path: '/api/user/preferences', category: 'users', description: 'Get user preferences', tags: ['auth'], auth: true },
      { method: 'PUT', path: '/api/user/preferences', category: 'users', description: 'Update user preferences', tags: ['auth'], auth: true },
      { method: 'GET', path: '/api/user/projects', category: 'users', description: 'List user projects', tags: ['auth'], auth: true },
      { method: 'POST', path: '/api/user/projects', category: 'users', description: 'Create new project', tags: ['auth'], auth: true },
      { method: 'PUT', path: '/api/user/projects/:id', category: 'users', description: 'Update project', tags: ['auth'], auth: true },
      { method: 'DELETE', path: '/api/user/projects/:id', category: 'users', description: 'Delete project', tags: ['auth'], auth: true },
      { method: 'GET', path: '/api/user/stats', category: 'users', description: 'Get user statistics', tags: ['auth'], auth: true },
      { method: 'GET', path: '/api/user/online', category: 'users', description: 'Get online users list', tags: ['public'], auth: false },
      
      // Music
      { method: 'GET', path: '/api/presets', category: 'music', description: 'List all synth presets', tags: ['public'], auth: false },
      { method: 'GET', path: '/api/presets/:id', category: 'music', description: 'Get preset details', tags: ['public'], auth: false },
      { method: 'POST', path: '/api/presets', category: 'music', description: 'Create new preset', tags: ['auth', 'premium'], auth: true },
      { method: 'GET', path: '/api/tracks/list', category: 'music', description: 'List uploaded tracks', tags: ['public'], auth: false },
      { method: 'POST', path: '/api/tracks/upload', category: 'music', description: 'Upload track to cloud', tags: ['auth'], auth: true },
      { method: 'DELETE', path: '/api/tracks/:id', category: 'music', description: 'Delete uploaded track', tags: ['auth'], auth: true },
      { method: 'GET', path: '/api/music/projects', category: 'music', description: 'List Ableton projects', tags: ['public'], auth: false },
      { method: 'GET', path: '/api/music/sounds', category: 'music', description: 'List available sounds', tags: ['public'], auth: false },
      { method: 'GET', path: '/api/premium/preset-packs', category: 'music', description: 'List premium preset packs', tags: ['premium'], auth: true },
      { method: 'GET', path: '/api/premium/download/:id', category: 'music', description: 'Download premium preset', tags: ['premium'], auth: true },
      { method: 'POST', path: '/api/premium/track-download', category: 'music', description: 'Track preset download', tags: ['auth'], auth: true },
      { method: 'GET', path: '/api/platform/ableton/status', category: 'music', description: 'Check Ableton integration', tags: ['auth'], auth: true },
      
      // Billing
      { method: 'GET', path: '/api/subscriptions/plans', category: 'billing', description: 'Get available plans', tags: ['public'], auth: false },
      { method: 'GET', path: '/api/subscriptions/current', category: 'billing', description: 'Get current subscription', tags: ['auth'], auth: true },
      { method: 'POST', path: '/api/subscriptions/create', category: 'billing', description: 'Create subscription', tags: ['auth'], auth: true },
      { method: 'POST', path: '/api/subscriptions/cancel', category: 'billing', description: 'Cancel subscription', tags: ['auth'], auth: true },
      { method: 'POST', path: '/api/payments/create-intent', category: 'billing', description: 'Create payment intent', tags: ['auth'], auth: true },
      { method: 'GET', path: '/api/payments/history', category: 'billing', description: 'Get payment history', tags: ['auth'], auth: true },
      
      // Admin
      { method: 'GET', path: '/api/admin/users', category: 'admin', description: 'List all users', tags: ['admin'], auth: true },
      { method: 'GET', path: '/api/admin/users/:id', category: 'admin', description: 'Get user details', tags: ['admin'], auth: true },
      { method: 'PUT', path: '/api/admin/users/:id', category: 'admin', description: 'Update user', tags: ['admin'], auth: true },
      { method: 'GET', path: '/api/admin/subscriptions', category: 'admin', description: 'List all subscriptions', tags: ['admin'], auth: true },
      { method: 'GET', path: '/api/admin/api-management/endpoints', category: 'admin', description: 'Get API endpoints config', tags: ['admin'], auth: true },
      { method: 'PUT', path: '/api/admin/api-management/endpoints/:id', category: 'admin', description: 'Toggle endpoint status', tags: ['admin'], auth: true },
    ];

    let currentCategory = 'all';
    let currentMethod = 'all';
    let selectedEndpoint = null;

    function renderEndpoints() {
      const grid = document.getElementById('endpointsGrid');
      
      let filtered = endpoints;
      
      // Filter by category
      if (currentCategory !== 'all') {
        filtered = filtered.filter(e => e.category === currentCategory);
      }
      
      // Filter by method
      if (currentMethod !== 'all') {
        filtered = filtered.filter(e => e.method.toLowerCase() === currentMethod);
      }

      if (filtered.length === 0) {
        grid.innerHTML = `
          <div style="grid-column: 1/-1; text-align: center; padding: 3rem; color: var(--text-secondary);">
            <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>
            <p>No endpoints found for this filter</p>
          </div>
        `;
        return;
      }

      grid.innerHTML = filtered.map(ep => `
        <div class="endpoint-card">
          <div class="endpoint-header">
            <span class="method-badge ${ep.method.toLowerCase()}">${ep.method}</span>
            <span class="endpoint-path">${ep.path}</span>
            <div class="endpoint-status">
              <span class="status-dot"></span>
            </div>
          </div>
          <div class="endpoint-body">
            <p class="endpoint-description">${ep.description}</p>
            <div class="endpoint-tags">
              ${ep.tags.map(tag => `
                <span class="endpoint-tag ${tag === 'auth' || tag === 'admin' ? 'auth' : ''} ${tag === 'premium' ? 'premium' : ''}">${tag}</span>
              `).join('')}
            </div>
            <div class="endpoint-actions">
              <button class="endpoint-btn" onclick="copyEndpoint('${ep.path}')">
                <i class="fas fa-copy"></i> Copy
              </button>
              <button class="endpoint-btn primary" onclick="openTryPanel('${ep.method}', '${ep.path}')">
                <i class="fas fa-play"></i> Try It
              </button>
            </div>
          </div>
        </div>
      `).join('');

      // Update counts
      document.getElementById('totalEndpoints').textContent = endpoints.length;
    }

    function updateCounts() {
      const categories = ['all', 'auth', 'music', 'users', 'billing', 'admin'];
      categories.forEach(cat => {
        const count = cat === 'all' 
          ? endpoints.length 
          : endpoints.filter(e => e.category === cat).length;
        const el = document.getElementById(`count-${cat}`);
        if (el) el.textContent = `${count} endpoints`;
      });
    }

    // Category click handlers
    document.querySelectorAll('.category-card').forEach(card => {
      card.addEventListener('click', () => {
        document.querySelectorAll('.category-card').forEach(c => c.classList.remove('active'));
        card.classList.add('active');
        currentCategory = card.dataset.category;
        document.getElementById('currentCategory').textContent = 
          currentCategory === 'all' ? 'All Endpoints' : card.querySelector('.category-name').textContent;
        renderEndpoints();
      });
    });

    // Method filter handlers
    document.querySelectorAll('.filter-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        currentMethod = tab.dataset.method;
        renderEndpoints();
      });
    });

    function copyEndpoint(path) {
      navigator.clipboard.writeText(path).then(() => {
        showToast('Endpoint copied!');
      });
    }

    function openTryPanel(method, path) {
      selectedEndpoint = { method, path };
      document.getElementById('tryPanel').classList.add('open');
      document.getElementById('tryPanelTitle').textContent = `${method} ${path}`;
      document.getElementById('tryEndpoint').value = `${method} ${path}`;
      
      // Show/hide body for GET requests
      document.getElementById('tryBodyGroup').style.display = 
        method === 'GET' || method === 'DELETE' ? 'none' : 'block';
      
      // Set auth header with token if available
      const token = localStorage.getItem('accessToken') || 'YOUR_TOKEN';
      document.getElementById('tryHeaders').value = JSON.stringify({
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`
      }, null, 2);
    }

    function closeTryPanel() {
      document.getElementById('tryPanel').classList.remove('open');
    }

    async function executeRequest() {
      if (!selectedEndpoint) return;

      const responseEl = document.getElementById('tryResponse');
      responseEl.innerHTML = '<span style="color: var(--accent-cyan);"><i class="fas fa-spinner fa-spin"></i> Executing...</span>';

      try {
        const headers = JSON.parse(document.getElementById('tryHeaders').value);
        const options = {
          method: selectedEndpoint.method,
          headers
        };

        if (selectedEndpoint.method !== 'GET' && selectedEndpoint.method !== 'DELETE') {
          options.body = document.getElementById('tryBody').value;
        }

        const response = await fetch(selectedEndpoint.path, options);
        const data = await response.json();

        responseEl.innerHTML = `<span style="color: ${response.ok ? 'var(--accent-green)' : 'var(--accent-red)'};">// Status: ${response.status}</span>\n${JSON.stringify(data, null, 2)}`;
      } catch (error) {
        responseEl.innerHTML = `<span style="color: var(--accent-red);">// Error</span>\n${error.message}`;
      }
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 12px 20px;
        background: var(--accent-green);
        color: var(--bg-primary);
        border-radius: 10px;
        font-weight: 600;
        z-index: 10002;
        animation: slideUp 0.3s ease-out;
      `;
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }

    // Initialize
    updateCounts();
    renderEndpoints();
  </script>
</body>
</html>
